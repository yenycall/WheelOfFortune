<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íƒ€ë¡œ ìŠ¤í† ë¦¬ ê²Œì„</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            background-color: #0f0f2a;
            color: #fff;
            text-align: center;
            margin: 0;
            padding: 20px;
        }
        
        .game-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        h1 {
            color: #f8d348;
            margin-bottom: 30px;
        }
        
        .stage {
            margin-bottom: 30px;
        }
        
        .stage-title {
            font-size: 24px;
            margin-bottom: 15px;
            color: #f8d348;
        }
        
        .stage-description {
            margin-bottom: 20px;
            line-height: 1.6;
        }
        
        .cards-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 30px;
        }
        
        .card {
            width: 150px;
            height: 250px;
            background-color: #272755;
            border: 2px solid #f8d348;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 20px rgba(248, 211, 72, 0.3);
        }
        
        .card.selected {
            border-color: #ff6b6b;
            box-shadow: 0 0 20px #ff6b6b;
        }
        
        .card-front {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            backface-visibility: hidden;
        }
        
        .card-name {
            font-weight: bold;
            margin-top: 10px;
        }
        
        .card-image {
            width: 100px;
            height: 150px;
            background-color: #121236;
            margin-bottom: 10px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 24px;
        }
        
        .buttons {
            margin-top: 30px;
        }
        
        button {
            background-color: #f8d348;
            color: #0f0f2a;
            border: none;
            padding: 12px 24px;
            font-size: 16px;
            font-weight: bold;
            border-radius: 5px;
            cursor: pointer;
            margin: 0 10px;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: #ff6b6b;
        }
        
        button:disabled {
            background-color: #666;
            cursor: not-allowed;
        }
        
        .story-text {
            background-color: #272755;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            line-height: 1.8;
            text-align: left;
        }
        
        .ending {
            margin-top: 30px;
            padding: 20px;
            background-color: #272755;
            border-radius: 10px;
            border: 2px solid #f8d348;
        }
        
        .ending h2 {
            color: #f8d348;
        }
        
        .hidden {
            display: none;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>ìš´ëª…ì˜ íƒ€ë¡œ ì—¬ì •</h1>
        
        <div id="intro" class="stage">
            <div class="stage-description">
                ë‹¹ì‹  ì•ì— ì‹ ë¹„í•œ íƒ€ë¡œ ì¹´ë“œê°€ ë†“ì—¬ ìˆìŠµë‹ˆë‹¤. ê° ë‹¨ê³„ë§ˆë‹¤ ì¹´ë“œë¥¼ ì„ íƒí•˜ì—¬ ë‹¹ì‹ ë§Œì˜ ìš´ëª…ì„ ë§Œë“¤ì–´ê°€ì„¸ìš”.
                ì´ 5ë‹¨ê³„ì˜ ì—¬ì •ì„ í†µí•´ ë‹¹ì‹ ì˜ ìš´ëª…ì´ ê²°ì •ë©ë‹ˆë‹¤.
            </div>
            <button id="start-button">ì—¬ì • ì‹œì‘í•˜ê¸°</button>
        </div>
        
        <div id="game-stage" class="stage hidden">
            <div class="stage-title" id="stage-title">ì œ1ì¥: ì‹œì‘ì˜ ë¬¸</div>
            <div class="stage-description" id="stage-description">
                ë‹¹ì‹ ì˜ ì—¬ì •ì´ ì‹œì‘ë©ë‹ˆë‹¤. ì–´ë–¤ ì¹´ë“œê°€ ë‹¹ì‹ ì„ ë¶€ë¥´ëŠ”ì§€ ì§ê°ìœ¼ë¡œ ì„ íƒí•˜ì„¸ìš”.
            </div>
            
            <div class="cards-container" id="cards-container">
                <!-- ì¹´ë“œëŠ” JSë¡œ ë™ì  ìƒì„±ë©ë‹ˆë‹¤ -->
            </div>
            
            <div class="story-text hidden" id="story-text"></div>
            
            <div class="buttons">
                <button id="next-button" disabled>ë‹¤ìŒ ë‹¨ê³„ë¡œ</button>
            </div>
        </div>
        
        <div id="ending" class="stage hidden">
            <h2>ë‹¹ì‹ ì˜ ìš´ëª…</h2>
            <div id="ending-text" class="story-text"></div>
            <button id="restart-button">ë‹¤ì‹œ ì‹œì‘í•˜ê¸°</button>
        </div>
    </div>

    <script>
        // íƒ€ë¡œ ì¹´ë“œ ì •ì˜
        const tarotCards = [
            { id: 0, name: "ë°”ë³´", symbol: "ğŸƒ" },
            { id: 1, name: "ë§ˆë²•ì‚¬", symbol: "âœ¨" },
            { id: 2, name: "ì—¬ì‚¬ì œ", symbol: "ğŸŒ™" },
            { id: 3, name: "ì—¬í™©ì œ", symbol: "ğŸ‘‘" },
            { id: 4, name: "í™©ì œ", symbol: "âš”ï¸" },
            { id: 5, name: "êµí™©", symbol: "ğŸ“œ" },
            { id: 6, name: "ì—°ì¸ë“¤", symbol: "â¤ï¸" },
            { id: 7, name: "ì „ì°¨", symbol: "ğŸ†" },
            { id: 8, name: "í˜", symbol: "ğŸ’ª" },
            { id: 9, name: "ì€ë‘”ì", symbol: "ğŸ”¦" },
            { id: 10, name: "ìš´ëª…ì˜ ìˆ˜ë ˆë°”í€´", symbol: "ğŸ¡" },
            { id: 11, name: "ì •ì˜", symbol: "âš–ï¸" },
            { id: 12, name: "ë§¤ë‹¬ë¦° ì‚¬ëŒ", symbol: "ğŸ™ƒ" },
            { id: 13, name: "ì£½ìŒ", symbol: "ğŸ’€" },
            { id: 14, name: "ì ˆì œ", symbol: "ğŸµ" },
            { id: 15, name: "ì•…ë§ˆ", symbol: "ğŸ˜ˆ" },
            { id: 16, name: "íƒ‘", symbol: "ğŸ—¼" },
            { id: 17, name: "ë³„", symbol: "â­" },
            { id: 18, name: "ë‹¬", symbol: "ğŸŒ•" },
            { id: 19, name: "íƒœì–‘", symbol: "â˜€ï¸" },
            { id: 20, name: "ì‹¬íŒ", symbol: "ğŸ“¯" },
            { id: 21, name: "ì„¸ê³„", symbol: "ğŸŒ" }
        ];
        
        // ìŠ¤í…Œì´ì§€ ì •ì˜
        const stages = [
            {
                title: "ì œ1ì¥: ì‹œì‘ì˜ ë¬¸",
                description: "ë‹¹ì‹ ì˜ ì—¬ì •ì´ ì‹œì‘ë©ë‹ˆë‹¤. ì–´ë–¤ ì¹´ë“œê°€ ë‹¹ì‹ ì„ ë¶€ë¥´ëŠ”ì§€ ì§ê°ìœ¼ë¡œ ì„ íƒí•˜ì„¸ìš”.",
                cards: [0, 1, 2, 3],
                stories: {
                    0: "ë‹¹ì‹ ì€ ì ˆë²½ ì•ì— ì„œ ìˆìŠµë‹ˆë‹¤. ë§ì„¤ì„ ì—†ì´ ë›°ì–´ë‚´ë¦¬ì ì‹ ë¹„í•œ ë°”ëŒì´ ë‹¹ì‹ ì„ ê°ì‹¸ ì•ˆì•˜ìŠµë‹ˆë‹¤. ë¬´ëª¨í•´ ë³´ì´ëŠ” ì„ íƒì´ ë•Œë¡œëŠ” ê°€ì¥ í° ê°€ëŠ¥ì„±ì„ ì—´ì–´ì¤ë‹ˆë‹¤.",
                    1: "ëˆˆì•ì— ì‹ ë¹„í•œ ë¬¸ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤. ë¬¸ì„ ì—´ì ë¹›ì˜ ì„¸ê³„ê°€ í¼ì³ì§‘ë‹ˆë‹¤. ë‹¹ì‹ ì€ ìì‹ ì˜ í˜ìœ¼ë¡œ ìš´ëª…ì„ ì°½ì¡°í•  ìˆ˜ ìˆëŠ” ëŠ¥ë ¥ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.",
                    2: "ê³ ìš”í•œ ìˆ²ì†, ë‹¬ë¹› ì•„ë˜ ë‹¹ì‹ ì€ ë¹„ë°€ì˜ ì±…ì„ ë°œê²¬í•©ë‹ˆë‹¤. ê·¸ ì•ˆì—ëŠ” ë‹¹ì‹ ë§Œì´ ì½ì„ ìˆ˜ ìˆëŠ” ì§€í˜œê°€ ë‹´ê²¨ ìˆìŠµë‹ˆë‹¤. ì§ê´€ì„ ë”°ë¥´ëŠ” ì—¬ì •ì´ ì‹œì‘ë©ë‹ˆë‹¤.",
                    3: "í™”ë ¤í•œ ì •ì›ì—ì„œ ë‹¹ì‹ ì€ ì™•ê´€ì„ ì“´ ì—¬ì¸ì„ ë§Œë‚©ë‹ˆë‹¤. ê·¸ë…€ëŠ” ë‹¹ì‹ ì—ê²Œ í’ìš”ì™€ ì°½ì¡°ì˜ í˜ì„ ì„ ë¬¼í•©ë‹ˆë‹¤. ë‹¹ì‹  ì•ˆì— ë‚´ì¬ëœ í’ìš”ë¡œì›€ì„ ë°œê²¬í•˜ëŠ” ì—¬ì •ì…ë‹ˆë‹¤."
                }
            },
            {
                title: "ì œ2ì¥: ì„ íƒì˜ ê°ˆë¦¼ê¸¸",
                description: "ì²« ë²ˆì§¸ ì‹œí—˜ì„ í†µê³¼í–ˆìŠµë‹ˆë‹¤. ì´ì œ ë‹¹ì‹  ì•ì— ê°ˆë¦¼ê¸¸ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤. ì–´ë–¤ ê¸¸ì„ ì„ íƒí•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
                cards: [6, 7, 8, 9],
                stories: {
                    6: "ë‘ ì‚¬ëŒì´ ë‹¹ì‹  ì•ì— ë‚˜íƒ€ë‚©ë‹ˆë‹¤. í•˜ë‚˜ë¥¼ ì„ íƒí•´ì•¼ í•˜ì§€ë§Œ, ê·¸ê²ƒì€ ë‹¨ìˆœí•œ ì‚¬ë‘ì´ ì•„ë‹Œ ê°€ì¹˜ê´€ì˜ ì„ íƒì…ë‹ˆë‹¤. ë‹¹ì‹ ì€ ë§ˆìŒì˜ ì†Œë¦¬ë¥¼ ë”°ë¦…ë‹ˆë‹¤.",
                    7: "ë¹ ë¥¸ ì†ë„ë¡œ ë‹¬ë¦¬ëŠ” ì „ì°¨ê°€ ë‹¹ì‹ ì„ ë§ì´í•©ë‹ˆë‹¤. ì˜¬ë¼íƒ€ì ë‹¹ì‹ ì€ ëª¨ë“  ì¥ì• ë¬¼ì„ ëš«ê³  ì•ìœ¼ë¡œ ë‚˜ì•„ê°‘ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ì˜ì§€ê°€ ìš´ëª…ì„ ê²°ì •í•©ë‹ˆë‹¤.",
                    8: "ê±°ëŒ€í•œ ì‚¬ìê°€ ê¸¸ì„ ë§‰ê³  ìˆìŠµë‹ˆë‹¤. ë‘ë ¤ì›€ ëŒ€ì‹  ë‹¹ì‹ ì€ ë¶€ë“œëŸ½ê²Œ ë‹¤ê°€ê°€ ì‚¬ìë¥¼ ê¸¸ë“¤ì…ë‹ˆë‹¤. ì§„ì •í•œ í˜ì€ í†µì œê°€ ì•„ë‹Œ ì¡°í™”ì—ì„œ ì˜µë‹ˆë‹¤.",
                    9: "ì–´ë‘ìš´ ë™êµ´ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤. ì‘ì€ ë“±ë¶ˆ í•˜ë‚˜ë§Œ ë“¤ê³  ë“¤ì–´ê°€ëŠ” ìš©ê¸°ë¥¼ ë‚´ì, ë‚´ë©´ì˜ ì§€í˜œê°€ ë‹¹ì‹ ì„ ì¸ë„í•©ë‹ˆë‹¤. ê³ ë…í•œ ì„±ì°°ì˜ ì‹œê°„ì´ í•„ìš”í•©ë‹ˆë‹¤."
                }
            },
            {
                title: "ì œ3ì¥: ì‹œë ¨ì˜ ìˆœê°„",
                description: "ì—¬ì •ì´ ê³„ì†ë©ë‹ˆë‹¤. ì´ì œ ë‹¹ì‹ ì€ í”¼í•  ìˆ˜ ì—†ëŠ” ì‹œë ¨ê³¼ ë§ˆì£¼í•©ë‹ˆë‹¤. ì–´ë–»ê²Œ ëŒ€ì‘í•˜ì‹œê² ìŠµë‹ˆê¹Œ?",
                cards: [12, 13, 15, 16],
                stories: {
                    12: "ë‹¹ì‹ ì€ ê°‘ìê¸° ê±°ê¾¸ë¡œ ë§¤ë‹¬ë¦½ë‹ˆë‹¤. ì„¸ìƒì´ ë’¤ì§‘í˜€ ë³´ì´ì§€ë§Œ, ì´ ê´€ì ì˜ ë³€í™”ëŠ” ìƒˆë¡œìš´ í†µì°°ë ¥ì„ ì¤ë‹ˆë‹¤. ë•Œë¡œëŠ” ëª¨ë“  ê²ƒì„ ë‚´ë ¤ë†“ì•„ì•¼ í•©ë‹ˆë‹¤.",
                    13: "ëª¨ë“  ê²ƒì´ ì‚¬ë¼ì§€ëŠ” ìˆœê°„ì„ ê²½í—˜í•©ë‹ˆë‹¤. ë‘ë ¤ìš´ ìˆœê°„ì´ì§€ë§Œ, ì´ê²ƒì€ ëì´ ì•„ë‹Œ ë³€í™”ì˜ ì‹œì‘ì…ë‹ˆë‹¤. ë‚¡ì€ ê²ƒì´ ê°€ì•¼ ìƒˆê²ƒì´ ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.",
                    15: "ì–´ë‘  ì†ì—ì„œ ë‹¹ì‹ ì„ ìœ í˜¹í•˜ëŠ” ëª©ì†Œë¦¬ê°€ ë“¤ë¦½ë‹ˆë‹¤. ì‰¬ìš´ ê¸¸ì„ ì œì•ˆí•˜ì§€ë§Œ, ëŒ€ê°€ëŠ” ë„ˆë¬´ í½ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ë‚´ë©´ì˜ ìš•ë§ê³¼ ê·¸ë¦¼ìë¥¼ ì§ë©´í•˜ëŠ” ì‹œê°„ì…ë‹ˆë‹¤.",
                    16: "ê°‘ì‘ìŠ¤ëŸ¬ìš´ ë²ˆê°œê°€ ë‹¹ì‹ ì´ ìŒ“ì•„ì˜¨ íƒ‘ì„ ë¬´ë„ˆëœ¨ë¦½ë‹ˆë‹¤. ê³ í†µìŠ¤ëŸ½ì§€ë§Œ, ì´ëŠ” ì§„ì •í•œ í† ëŒ€ ìœ„ì— ë‹¤ì‹œ ì„¸ìš°ë¼ëŠ” ì‹ í˜¸ì…ë‹ˆë‹¤. íŒŒê´´ í›„ì— ì¬ê±´ì´ ë”°ë¦…ë‹ˆë‹¤."
                }
            },
            {
                title: "ì œ4ì¥: í¬ë§ì˜ ë¹›",
                description: "ì‹œë ¨ì„ ì§€ë‚˜ í¬ë§ì˜ ë¹›ì´ ë³´ì…ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ì—¬ì •ì— ì–´ë–¤ ë¹›ì´ í•¨ê»˜í• ê¹Œìš”?",
                cards: [17, 18, 19, 20],
                stories: {
                    17: "ì–´ë‘  ì†ì—ì„œ ë¹›ë‚˜ëŠ” ë³„ë“¤ì´ ë‹¹ì‹ ì„ ì¸ë„í•©ë‹ˆë‹¤. í¬ë§ê³¼ ì˜ê°ì´ ë‹¹ì‹  ì•ˆì— ìƒˆë¡­ê²Œ í”¼ì–´ë‚©ë‹ˆë‹¤. ë‹¹ì‹ ì€ ìì‹ ë§Œì˜ ë³„ìë¦¬ë¥¼ ë§Œë“¤ì–´ê°‘ë‹ˆë‹¤.",
                    18: "ì‹ ë¹„ë¡œìš´ ë‹¬ë¹› ì•„ë˜, ìˆ¨ê²¨ì§„ ì§„ì‹¤ì´ ë“œëŸ¬ë‚©ë‹ˆë‹¤. í™˜ìƒê³¼ í˜„ì‹¤ ì‚¬ì´ì—ì„œ ë‹¹ì‹ ì€ ë” ê¹Šì€ ì˜ì‹ì˜ ì„¸ê³„ë¡œ ë“¤ì–´ê°‘ë‹ˆë‹¤. ë¬´ì˜ì‹ì˜ ì§€í˜œë¥¼ ë‹´ì•„ê°€ì„¸ìš”.",
                    19: "ë”°ëœ»í•œ íƒœì–‘ë¹›ì´ ë‹¹ì‹ ì„ ê°ì‹¸ì•ˆìŠµë‹ˆë‹¤. ëª¨ë“  ë¶ˆí™•ì‹¤ì„±ì´ ì‚¬ë¼ì§€ê³  ëª…í™•í•œ ê¸¸ì´ ë³´ì…ë‹ˆë‹¤. ì„±ê³µê³¼ ì„±ì·¨ì˜ ìˆœê°„ì´ ì°¾ì•„ì™”ìŠµë‹ˆë‹¤.",
                    20: "ê±°ëŒ€í•œ ë‚˜íŒ” ì†Œë¦¬ì™€ í•¨ê»˜ ë¶€í™œì˜ ìˆœê°„ì´ ì°¾ì•„ì˜µë‹ˆë‹¤. ê³¼ê±°ì˜ ëª¨ë“  ì„ íƒë“¤ì´ ì‹¬íŒëŒ€ì— ì˜¤ë¥´ì§€ë§Œ, ì´ëŠ” ìƒˆë¡œìš´ ì‹œì‘ì„ ìœ„í•œ ì •í™”ì…ë‹ˆë‹¤."
                }
            },
            {
                title: "ì œ5ì¥: ìš´ëª…ì˜ ì™„ì„±",
                description: "ì—¬ì •ì˜ ë§ˆì§€ë§‰ ë‹¨ê³„ì…ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ìš´ëª…ì„ ì™„ì„±í•  ì¹´ë“œë¥¼ ì„ íƒí•˜ì„¸ìš”.",
                cards: [5, 10, 11, 21],
                stories: {
                    5: "ì „í†µê³¼ ì§€í˜œì˜ ìˆ˜í˜¸ìê°€ ë‹¹ì‹ ì„ ë§ì´í•©ë‹ˆë‹¤. ì´ì œ ë‹¹ì‹ ì€ ë°°ì›€ì„ ë‚˜ëˆŒ ì¤€ë¹„ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. ì •ì‹ ì  ê°€ì´ë“œë¡œì„œì˜ ì—¬ì •ì´ ì‹œì‘ë©ë‹ˆë‹¤.",
                    10: "ìš´ëª…ì˜ ìˆ˜ë ˆë°”í€´ê°€ ëŒì•„ê°‘ë‹ˆë‹¤. ë•Œë¡œëŠ” ìœ„ë¡œ, ë•Œë¡œëŠ” ì•„ë˜ë¡œ. ì‚¶ì˜ ìˆœí™˜ì„ ë°›ì•„ë“¤ì´ê³  ê·¸ íë¦„ì— ëª¸ì„ ë§¡ê¸°ëŠ” ê²ƒì´ ì§€í˜œì…ë‹ˆë‹¤.",
                    11: "ê· í˜• ì¡íŒ ì €ìš¸ì„ ë“  ì •ì˜ì˜ ì—¬ì‹ ì´ ë‚˜íƒ€ë‚©ë‹ˆë‹¤. ë‹¹ì‹ ì˜ ëª¨ë“  í–‰ë™ì—ëŠ” ê²°ê³¼ê°€ ë”°ë¦…ë‹ˆë‹¤. ì§„ì‹¤ê³¼ ê³µì •í•¨ì´ ë‹¹ì‹ ì˜ ê¸¸ì´ ë©ë‹ˆë‹¤.",
                    21: "ë§ˆì¹¨ë‚´ ë‹¹ì‹ ì€ ì„¸ê³„ì˜ ì¤‘ì‹¬ì— ì„­ë‹ˆë‹¤. ëª¨ë“  ìš”ì†Œê°€ ì¡°í™”ë¡­ê²Œ ì–´ìš°ëŸ¬ì§€ëŠ” ì™„ì„±ì˜ ìˆœê°„ì…ë‹ˆë‹¤. í•˜ë‚˜ì˜ ì—¬ì •ì´ ëë‚˜ê³  ìƒˆë¡œìš´ ìˆœí™˜ì´ ì‹œì‘ë©ë‹ˆë‹¤."
                }
            }
        ];
        
        // ì—”ë”© ì •ì˜ (ì„ íƒí•œ ì¹´ë“œ ì¡°í•©ì— ë”°ë¼ ë‹¤ì–‘í•œ ì—”ë”© êµ¬ì„±)
        const endings = {
            // ëª‡ ê°€ì§€ ì˜ˆì‹œ ì—”ë”© (ì‹¤ì œë¡œëŠ” ë” ë§ì€ ì¡°í•© í•„ìš”)
            "0,7,13,19,21": "ã€Œë¹›ì˜ í˜ëª…ê°€ã€\n\në¬´ëª¨í•´ ë³´ì´ëŠ” ì‹œì‘ì´ì—ˆì§€ë§Œ, ë‹¹ì‹ ì˜ ê°•í•œ ì˜ì§€ëŠ” ëª¨ë“  ì¥ì• ë¬¼ì„ ëš«ê³  ë³€í™”ë¥¼ ì´ëŒì–´ëƒˆìŠµë‹ˆë‹¤. ì£½ìŒì˜ ì¹´ë“œê°€ ê°€ì ¸ì˜¨ ë³€í™”ëŠ” íƒœì–‘ì˜ ë¹›ìœ¼ë¡œ ì´ì–´ì¡Œê³ , ê²°êµ­ ë‹¹ì‹ ì€ ì„¸ê³„ì˜ ì¤‘ì‹¬ì— ì„œê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¹ì‹ ì€ ìƒˆë¡œìš´ ì‹œëŒ€ë¥¼ ì—¬ëŠ” í˜ëª…ê°€ì…ë‹ˆë‹¤. ë‘ë ¤ì›€ ì—†ì´ ì•ìœ¼ë¡œ ë‚˜ì•„ê°€ë©° ì„¸ìƒì— ê¸ì •ì ì¸ ë³€í™”ë¥¼ ê°€ì ¸ì˜¬ ê²ƒì…ë‹ˆë‹¤.",
            "1,6,15,17,11": "ã€Œê· í˜•ì˜ ë§ˆë²•ì‚¬ã€\n\nì°½ì¡°ì˜ í˜ìœ¼ë¡œ ì‹œì‘í•œ ë‹¹ì‹ ì˜ ì—¬ì •ì€ ì„ íƒì˜ ê¸°ë¡œì—ì„œ ì‚¬ë‘ì„ íƒí–ˆì§€ë§Œ, ë‚´ë©´ì˜ ì–´ë‘ ê³¼ë„ ë§ë‹¥ëœ¨ë ¸ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ë³„ì˜ í¬ë§ì„ í†µí•´ ì •ì˜ë¡œìš´ ê· í˜•ì„ ì°¾ì•„ëƒˆìŠµë‹ˆë‹¤. ë‹¹ì‹ ì€ ë¹›ê³¼ ì–´ë‘ , ì‚¬ë‘ê³¼ ì´ì„± ì‚¬ì´ì˜ ê· í˜•ì„ ì´ë£¨ëŠ” ë§ˆë²•ì‚¬ì…ë‹ˆë‹¤. ì„¸ìƒì— ì¡°í™”ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘ì¬ìê°€ ë  ê²ƒì…ë‹ˆë‹¤.",
            "2,9,12,18,10": "ã€Œì‹ ë¹„ì˜ í˜„ìã€\n\nì§ê´€ìœ¼ë¡œ ì‹œì‘ëœ ë‹¹ì‹ ì˜ ì—¬ì •ì€ ê³ ë…í•œ ì„±ì°°ê³¼ ê´€ì ì˜ ì „í™˜ì„ ê±°ì³ ë‹¬ì˜ ì‹ ë¹„ë¡œìš´ ì„¸ê³„ë¡œ ì´ì–´ì¡ŒìŠµë‹ˆë‹¤. ê²°êµ­ ìš´ëª…ì˜ ìˆ˜ë ˆë°”í€´ì™€ ë§ˆì£¼í•˜ë©° ìˆœí™˜ì˜ ì§€í˜œë¥¼ ì–»ì—ˆìŠµë‹ˆë‹¤. ë‹¹ì‹ ì€ í˜„ì‹¤ ë„ˆë¨¸ì˜ ì§„ì‹¤ì„ ë³¼ ìˆ˜ ìˆëŠ” í˜„ìì…ë‹ˆë‹¤. ì§ê´€ê³¼ ì§€í˜œë¡œ ë‹¤ë¥¸ ì´ë“¤ì„ ê¹¨ìš°ì¹˜ëŠ” ì•ˆë‚´ìê°€ ë  ê²ƒì…ë‹ˆë‹¤.",
            "3,8,16,20,5": "ã€Œì§€í˜œì˜ í†µì¹˜ìã€\n\ní’ìš”ë¡œì›€ìœ¼ë¡œ ì‹œì‘í•œ ì—¬ì •ì€ ì§„ì •í•œ í˜ì˜ ì˜ë¯¸ë¥¼ ë°°ì› ê³ , ë¬´ë„ˆì§„ íƒ‘ì„ í†µí•´ í—ˆìƒì„ ë²„ë ¸ìŠµë‹ˆë‹¤. ì‹¬íŒì˜ ìˆœê°„ì„ ê±°ì³ ì§€í˜œì˜ ì „ìˆ˜ìê°€ ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¹ì‹ ì€ í˜ê³¼ ì§€í˜œë¥¼ ê²¸ë¹„í•œ í†µì¹˜ìì…ë‹ˆë‹¤. íŒŒê´´ í›„ì˜ ì¬ê±´ì„ ì´ëŒë©°, ë°°ì›€ê³¼ ì „í†µì˜ ê°€ì¹˜ë¥¼ ì¤‘ìš”ì‹œí•˜ëŠ” ë¦¬ë”ê°€ ë  ê²ƒì…ë‹ˆë‹¤."
        };
        
        // ê¸°ë³¸ ê²Œì„ ìƒíƒœ
        let gameState = {
            currentStage: 0,
            selectedCards: [],
            storyPath: []
        };
        
        // DOM ìš”ì†Œ
        const introSection = document.getElementById('intro');
        const gameStageSection = document.getElementById('game-stage');
        const endingSection = document.getElementById('ending');
        const stageTitle = document.getElementById('stage-title');
        const stageDescription = document.getElementById('stage-description');
        const cardsContainer = document.getElementById('cards-container');
        const storyText = document.getElementById('story-text');
        const nextButton = document.getElementById('next-button');
        const startButton = document.getElementById('start-button');
        const restartButton = document.getElementById('restart-button');
        const endingText = document.getElementById('ending-text');
        
        // ê²Œì„ ì‹œì‘
        startButton.addEventListener('click', startGame);
        nextButton.addEventListener('click', goToNextStage);
        restartButton.addEventListener('click', restartGame);
        
        function startGame() {
            gameState = {
                currentStage: 0,
                selectedCards: [],
                storyPath: []
            };
            
            introSection.classList.add('hidden');
            gameStageSection.classList.remove('hidden');
            endingSection.classList.add('hidden');
            
            loadStage(gameState.currentStage);
        }
        
        function loadStage(stageIndex) {
            const stage = stages[stageIndex];
            
            stageTitle.textContent = stage.title;
            stageDescription.textContent = stage.description;
            storyText.classList.add('hidden');
            nextButton.disabled = true;
            
            // ì¹´ë“œ ìƒì„±
            cardsContainer.innerHTML = '';
            stage.cards.forEach(cardId => {
                const card = tarotCards[cardId];
                const cardElement = document.createElement('div');
                cardElement.className = 'card';
                cardElement.dataset.cardId = card.id;
                
                cardElement.innerHTML = `
                    <div class="card-front">
                        <div class="card-image">${card.symbol}</div>
                        <div class="card-name">${card.name}</div>
                    </div>
                `;
                
                cardElement.addEventListener('click', () => selectCard(cardElement, card.id));
                cardsContainer.appendChild(cardElement);
            });
        }
        
        function selectCard(cardElement, cardId) {
            // ì´ë¯¸ ì„ íƒëœ ì¹´ë“œê°€ ìˆìœ¼ë©´ ì„ íƒ í•´ì œ
            const selectedCard = cardsContainer.querySelector('.card.selected');
            if (selectedCard) {
                selectedCard.classList.remove('selected');
            }
            
            // ìƒˆ ì¹´ë“œ ì„ íƒ
            cardElement.classList.add('selected');
            
            // ìŠ¤í† ë¦¬ í‘œì‹œ
            const stage = stages[gameState.currentStage];
            storyText.textContent = stage.stories[cardId];
            storyText.classList.remove('hidden');
            
            // ë‹¤ìŒ ë²„íŠ¼ í™œì„±í™”
            nextButton.disabled = false;
            
            // ê²Œì„ ìƒíƒœ ì—…ë°ì´íŠ¸
            gameState.selectedCards[gameState.currentStage] = cardId;
            gameState.storyPath[gameState.currentStage] = stage.stories[cardId];
        }
        
        function goToNextStage() {
            gameState.currentStage++;
            
            if (gameState.currentStage < stages.length) {
                loadStage(gameState.currentStage);
            } else {
                showEnding();
            }
        }
        
        function showEnding() {
            gameStageSection.classList.add('hidden');
            endingSection.classList.remove('hidden');
            
            // ì„ íƒí•œ ì¹´ë“œ ì¡°í•©ìœ¼ë¡œ ì—”ë”© ê²°ì •
            const cardCombo = gameState.selectedCards.join(',');
            let endingResult = '';
            
            // ì •ì˜ëœ ì—”ë”©ì´ ìˆëŠ”ì§€ í™•ì¸
            if (endings[cardCombo]) {
                endingResult = endings[cardCombo];
            } else {
                // ì •ì˜ë˜ì§€ ì•Šì€ ì¡°í•©ì¸ ê²½ìš° ê¸°ë³¸ ì—”ë”© ìƒì„±
                // ë§ˆì§€ë§‰ ì¹´ë“œì— ë”°ë¼ ë‹¤ë¥¸ ì—”ë”©
                const lastCard = gameState.selectedCards[gameState.selectedCards.length - 1];
                
                if (lastCard === 5) {
                    endingResult = "ã€Œì§€í˜œì˜ íƒêµ¬ìã€\n\në‹¹ì‹ ì˜ ì—¬ì •ì€ ì§€ì‹ê³¼ ì „í†µì˜ ê°€ì¹˜ë¥¼ ê¹¨ë‹«ê²Œ í–ˆìŠµë‹ˆë‹¤. ë°°ì›€ì„ ì¶”êµ¬í•˜ë©° ê·¸ ì§€í˜œë¥¼ ë‹¤ë¥¸ ì´ë“¤ê³¼ ë‚˜ëˆ„ëŠ” ê²ƒì´ ë‹¹ì‹ ì˜ ìš´ëª…ì…ë‹ˆë‹¤.";
                } else if (lastCard === 10) {
                    endingResult = "ã€Œìš´ëª…ì˜ ì¶¤ê¾¼ã€\n\nì¸ìƒì˜ ìˆœí™˜ì„ ë°›ì•„ë“¤ì´ëŠ” ë²•ì„ ë°°ì› ìŠµë‹ˆë‹¤. ë‹¹ì‹ ì€ ë³€í™”ì— ìœ ì—°í•˜ê²Œ ì ì‘í•˜ë©° ìš´ëª…ì˜ íë¦„ì— ëª¸ì„ ë§¡ê¸°ëŠ” ì§€í˜œë¥¼ ê°€ì¡ŒìŠµë‹ˆë‹¤.";
                } else if (lastCard === 11) {
                    endingResult = "ã€Œì •ì˜ì˜ ìˆ˜í˜¸ìã€\n\nì§„ì‹¤ê³¼ ê· í˜•ì˜ ì¤‘ìš”ì„±ì„ ê¹¨ë‹¬ì•˜ìŠµë‹ˆë‹¤. ë‹¹ì‹ ì€ ê³µì •í•¨ì„ ì¶”êµ¬í•˜ë©°, ì„¸ìƒì— ì •ì˜ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì—­í• ì„ í•  ê²ƒì…ë‹ˆë‹¤.";
                } else if (lastCard === 21) {
                    endingResult = "ã€Œì™„ì„±ì˜ ì—¬í–‰ìã€\n\nëª¨ë“  ê²ƒì´ í•˜ë‚˜ë¡œ ì—°ê²°ë˜ì–´ ìˆìŒì„ ì´í•´í•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¹ì‹ ì€ ì „ì²´ì„±ì„ ì¶”êµ¬í•˜ë©°, ì‚¶ì˜ ëª¨ë“  ì¸¡ë©´ì„ ì¡°í™”ë¡­ê²Œ í†µí•©í•˜ëŠ” ì—¬ì •ì„ ê³„ì†í•  ê²ƒì…ë‹ˆë‹¤.";
                }
            }
            
            endingText.innerText = endingResult;
        }
        
        function restartGame() {
            endingSection.classList.add('hidden');
            introSection.classList.remove('hidden');
        }
    </script>
</body>
</html>